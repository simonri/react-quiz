<style>
  .templateConeContainer > * {
    pointer-events: none;
  }

  .templateConeContainer {
    position: fixed;
    left: 15px;
    top: 80px;
    width: 100px;
    z-index: 5;
    cursor: pointer;
  }

  img.templateCone {
    width: 100%;
    height: auto;
  }

  .templateImg {
    background-color: #f6f6f6;
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    opacity: 0;
    height: auto;
    pointer-events: none;
  }

  .templateImg img {
    position: absolute;
    left: 50%;
    right: 50%;
    transform: translateX(-50%);
    width: 1346px;
    height: auto;
  }
</style>
<script>
  var loadedConeDisplay = false;

  $(document).ready(() => {
    if(loadedConeDisplay === false) {
      loadedConeDisplay = true;

      let selectedId = "fillingAndDetails";
      $(".nav-item a[data-toggle=\"tab\"]").click(e => {
        selectedId = e.target.getAttribute("href").slice(1);
      });

      let notDisplaying = true;
      $(".templateConeContainer").click(e => {
        const dropContainer = e.target.parentElement.tagName === "BODY"
          ? e.target
          : e.target.parentElement;

        const siblingSelector = e.target.parentElement.tagName === "BODY"
          ? ":not(.templateConeContainer):not(.templateImg)"
          : ":not(.coneClass)";
        
        console.log(`#${selectedId}Cone`);

        $(dropContainer, $(`#${selectedId}Cone`)).siblings(`${siblingSelector}:not(script):not(style)`).css("display", (notDisplaying = !notDisplaying) ? "block" : "none");
        $(".templateImg", $(`#${selectedId}Cone`)).css("opacity", notDisplaying ? "0" : "1");
        $("span", $(e.target)).text((notDisplaying ? "Close" : "Open") + " page preview");
      });
    }
  });
</script>
<div class="templateConeContainer">
  <img class="templateCone" src="/static/images/ex/cone.png" />
  <span>Open page preview</span>
</div>
<div class="templateImg">
  <img src="/static/images/ex/<%= templateExampleFile %>" />
</div>